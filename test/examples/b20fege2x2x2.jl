using TOML

@testset "b20fege2x2x2" begin
	input = """
	[general]
	name = "b20fege"
	nat = 64
	kd = [ "Fe", "Ge" ]
	periodicity = [ true, true, true ]
	# periodicity = [false, false, false]
	j_zero_thr = 1e-10

	[symmetry]
	tolerance = 1e-5

	[interaction]
		nbody = 2
		[interaction.lmax]
		Fe = [ 0, 1 ] # the number of elements shoud be the same with "nbody" value.
		Ge = [ 0, 1 ]
		[interaction.cutoff] # unit is bohr
		Fe-Fe = [ 0, -1 ] # first element is just dummy to align wigh lmax array
		Fe-Ge = [ 0, -1 ]
		Ge-Ge = [ 0, -1 ]
		# negative cutoff means all of the possible interaction will be considered.

	[regression]
	weight = 0.5        # 1.0: only use the energy info. 0.0: only use torque info (0 <= weight_ratio <= 1)
	datafile = "EMBSET.txt"

	[structure]
	scale = 4.6647157669
	lattice = [
		[ 2.0, 0.0, 0.0 ],
		[ 0.0, 2.0, 0.0 ],
		[ 0.0, 0.0, 2.2 ],
	]
	kd_list = [
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
	1, 1,
	2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
	2, 2, 2, 2, 2, 2, 2, 2, 2, 2,	
	2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
	2, 2 
	]
	position = [
	[0.067506202,        0.067508481,        0.067509010],
	[0.067506202,        0.067508481,        0.567508996],
	[0.067506202,        0.567508459,        0.067509010],
	[0.067506202,        0.567508459,        0.567508996],
	[0.567506194,        0.067508481,        0.067509010],
	[0.567506194,        0.067508481,        0.567508996],
	[0.567506194,        0.567508459,        0.067509010],
	[0.567506194,        0.567508459,        0.567508996],
	[0.182493806,        0.432491511,        0.317509025],
	[0.182493806,        0.432491511,        0.817509055],
	[0.182493806,        0.932491541,        0.317509025],
	[0.182493806,        0.932491541,        0.817509055],
	[0.682493806,        0.432491511,        0.317509025],
	[0.682493806,        0.432491511,        0.817509055],
	[0.682493806,        0.932491541,        0.317509025],
	[0.682493806,        0.932491541,        0.817509055],
	[0.317506194,        0.182491526,        0.432490975],
	[0.317506194,        0.182491526,        0.932490945],
	[0.317506194,        0.682491541,        0.432490975],
	[0.317506194,        0.682491541,        0.932490945],
	[0.817506194,        0.182491526,        0.432490975],
	[0.817506194,        0.182491526,        0.932490945],
	[0.817506194,        0.682491541,        0.432490975],
	[0.817506194,        0.682491541,        0.932490945],
	[0.432493806,        0.317508489,        0.182490990],
	[0.432493806,        0.317508489,        0.682491004],
	[0.432493806,        0.817508459,        0.182490990],
	[0.432493806,        0.817508459,        0.682491004],
	[0.932493806,        0.317508489,        0.182490990],
	[0.932493806,        0.317508489,        0.682491004],
	[0.932493806,        0.817508459,        0.182490990],
	[0.932493806,        0.817508459,        0.682491004],
	[0.420877486,        0.420879036,        0.420874715],
	[0.420877486,        0.420879036,        0.920874715],
	[0.420877486,        0.920879006,        0.420874715],
	[0.420877486,        0.920879006,        0.920874715],
	[0.920877457,        0.420879036,        0.420874715],
	[0.920877457,        0.420879036,        0.920874715],
	[0.920877457,        0.920879006,        0.420874715],
	[0.920877457,        0.920879006,        0.920874715],
	[0.329122514,        0.079120949,        0.170874715],
	[0.329122514,        0.079120949,        0.670874715],
	[0.329122514,        0.579120934,        0.170874715],
	[0.329122514,        0.579120934,        0.670874715],
	[0.829122543,        0.079120949,        0.170874715],
	[0.829122543,        0.079120949,        0.670874715],
	[0.829122543,        0.579120934,        0.170874715],
	[0.829122543,        0.579120934,        0.670874715],
	[0.170877501,        0.329120964,        0.079125278],
	[0.170877501,        0.329120964,        0.579125285],
	[0.170877501,        0.829120994,        0.079125278],
	[0.170877501,        0.829120994,        0.579125285],
	[0.670877516,        0.329120964,        0.079125278],
	[0.670877516,        0.329120964,        0.579125285],
	[0.670877516,        0.829120994,        0.079125278],
	[0.670877516,        0.829120994,        0.579125285],
	[0.079122506,        0.170879051,        0.329125285],
	[0.079122506,        0.170879051,        0.829125285],
	[0.079122506,        0.670879066,        0.329125285],
	[0.079122506,        0.670879066,        0.829125285],
	[0.579122484,        0.170879051,        0.329125285],
	[0.579122484,        0.170879051,        0.829125285],
	[0.579122484,        0.670879066,        0.329125285],
	[0.579122484,        0.670879066,        0.829125285],
	]
	"""
	parsed = TOML.parse(input)
	sclus = SpinCluster(parsed)
end
