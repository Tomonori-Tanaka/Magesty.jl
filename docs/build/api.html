<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · Magesty.jl</title><meta name="title" content="API Reference · Magesty.jl"/><meta property="og:title" content="API Reference · Magesty.jl"/><meta property="twitter:title" content="API Reference · Magesty.jl"/><meta name="description" content="Documentation for Magesty.jl."/><meta property="og:description" content="Documentation for Magesty.jl."/><meta property="twitter:description" content="Documentation for Magesty.jl."/><meta property="og:url" content="https://Tomonori-Tanaka.github.io/Magesty.jl/api.html"/><meta property="twitter:url" content="https://Tomonori-Tanaka.github.io/Magesty.jl/api.html"/><link rel="canonical" href="https://Tomonori-Tanaka.github.io/Magesty.jl/api.html"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Magesty.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li class="is-active"><a class="tocitem" href="api.html">API Reference</a><ul class="internal"><li><a class="tocitem" href="#Main-Types"><span>Main Types</span></a></li><li><a class="tocitem" href="#Main-Functions"><span>Main Functions</span></a></li><li><a class="tocitem" href="#Submodules"><span>Submodules</span></a></li><li><a class="tocitem" href="#Utility-Types"><span>Utility Types</span></a></li><li><a class="tocitem" href="#Utility-Functions"><span>Utility Functions</span></a></li><li><a class="tocitem" href="#Container-Types"><span>Container Types</span></a></li><li><a class="tocitem" href="#Constants"><span>Constants</span></a></li></ul></li><li><a class="tocitem" href="tutorial.html">Tutorial</a></li><li><a class="tocitem" href="examples.html">Examples</a></li><li><a class="tocitem" href="tools.html">Tools</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="api.html">API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="api.html">API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="Main-Types"><a class="docs-heading-anchor" href="#Main-Types">Main Types</a><a id="Main-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Main-Types" title="Permalink"></a></h2><h3 id="System"><a class="docs-heading-anchor" href="#System">System</a><a id="System-1"></a><a class="docs-heading-anchor-permalink" href="#System" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.System" href="#Magesty.System"><code>Magesty.System</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">System</code></pre><p>A collection of structure, symmetry, cluster, and basis set.</p><p><strong>Fields</strong></p><ul><li><code>config::Parser</code>: Configuration parser</li><li><code>structure::Structure</code>: Crystal structure information</li><li><code>symmetry::Symmetry</code>: Symmetry operations</li><li><code>cluster::Cluster</code>: Cluster information</li><li><code>basisset::BasisSet</code>: Basis set information</li></ul></div></section></article><h3 id="SpinCluster"><a class="docs-heading-anchor" href="#SpinCluster">SpinCluster</a><a id="SpinCluster-1"></a><a class="docs-heading-anchor-permalink" href="#SpinCluster" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SpinCluster" href="#Magesty.SpinCluster"><code>Magesty.SpinCluster</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SpinCluster</code></pre><p>An extension of System with optimization capabilities.</p><p><strong>Fields</strong></p><ul><li><code>config::Parser</code>: Configuration parser</li><li><code>structure::Structure</code>: Crystal structure information</li><li><code>symmetry::Symmetry</code>: Symmetry operations</li><li><code>cluster::Cluster</code>: Cluster information</li><li><code>basisset::BasisSet</code>: Basis set information</li><li><code>optimize::Optimizer</code>: Optimizer instance</li></ul></div></section></article><h2 id="Main-Functions"><a class="docs-heading-anchor" href="#Main-Functions">Main Functions</a><a id="Main-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Main-Functions" title="Permalink"></a></h2><h3 id="System-Creation"><a class="docs-heading-anchor" href="#System-Creation">System Creation</a><a id="System-Creation-1"></a><a class="docs-heading-anchor-permalink" href="#System-Creation" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.System-Tuple{Dict{&lt;:AbstractString}}" href="#Magesty.System-Tuple{Dict{&lt;:AbstractString}}"><code>Magesty.System</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">System</code></pre><p>Create a <code>System</code> instance from either a dictionary of input parameters or a TOML configuration file.</p><p><strong>Arguments</strong></p><ul><li><code>input_dict::Dict{&lt;:AbstractString, &lt;:Any}</code>: Dictionary containing input parameters.</li><li><code>toml_file::AbstractString</code>: Path to the TOML configuration file.</li><li><code>verbosity::Bool=true</code>: Whether to print detailed information during initialization.</li></ul><p><strong>Returns</strong></p><ul><li><code>System</code>: A new <code>System</code> instance containing structure, symmetry, cluster, and basis set.</li></ul><p><strong>Throws</strong></p><ul><li><code>SystemError</code>: If the TOML file cannot be read.</li><li><code>ErrorException</code>: If required parameters are missing, invalid, or the TOML parsing fails.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Create a System from a dictionary
input_dict = Dict(&quot;key&quot; =&gt; &quot;value&quot;)
system = System(input_dict)

# Create a System from a TOML file
system = System(&quot;config.toml&quot;)</code></pre></div></section></article><div class="admonition is-warning" id="Missing-docstring.-d7376b0f2d5e28b4"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-d7376b0f2d5e28b4" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>System(toml_file::AbstractString; verbosity::Bool = true)</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="SpinCluster-Creation"><a class="docs-heading-anchor" href="#SpinCluster-Creation">SpinCluster Creation</a><a id="SpinCluster-Creation-1"></a><a class="docs-heading-anchor-permalink" href="#SpinCluster-Creation" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SpinCluster-Tuple{Dict{&lt;:AbstractString}}" href="#Magesty.SpinCluster-Tuple{Dict{&lt;:AbstractString}}"><code>Magesty.SpinCluster</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SpinCluster</code></pre><p>Create a <code>SpinCluster</code> instance from either a dictionary of input parameters, a TOML configuration file, or an existing <code>System</code> instance. This is an extension of <code>System</code> that includes optimization capabilities.</p><p><strong>Arguments</strong></p><ul><li><code>input_dict::Dict{&lt;:AbstractString, &lt;:Any}</code>: Dictionary containing input parameters.</li><li><code>toml_file::AbstractString</code>: Path to the TOML configuration file.</li><li><code>system::System</code>: An existing <code>System</code> instance.</li><li><code>verbosity::Bool=true</code>: Whether to print detailed information during initialization.</li></ul><p><strong>Returns</strong></p><ul><li><code>SpinCluster</code>: A new <code>SpinCluster</code> instance containing structure, symmetry, cluster, basis set, and optimizer.</li></ul><p><strong>Throws</strong></p><ul><li><code>SystemError</code>: If the TOML file cannot be read.</li><li><code>ErrorException</code>: If required parameters are missing, invalid, or the TOML parsing fails.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Create a SpinCluster from a dictionary
input_dict = Dict(&quot;key&quot; =&gt; &quot;value&quot;)
spin_cluster = SpinCluster(input_dict)

# Create a SpinCluster from a TOML file
spin_cluster = SpinCluster(&quot;config.toml&quot;)

# Create a SpinCluster from an existing System
system = System(&quot;config.toml&quot;)
spin_cluster = SpinCluster(system)</code></pre></div></section></article><div class="admonition is-warning" id="Missing-docstring.-4aef1215ba8d62cc"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-4aef1215ba8d62cc" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>SpinCluster(toml_file::AbstractString; verbosity::Bool = true)</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SpinCluster-Tuple{System, Dict{&lt;:AbstractString}}" href="#Magesty.SpinCluster-Tuple{System, Dict{&lt;:AbstractString}}"><code>Magesty.SpinCluster</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SpinCluster(system::System, input_dict::Dict{&lt;:AbstractString, &lt;:Any}; verbosity::Bool = true)</code></pre><p>Creates a <code>SpinCluster</code> instance by extending an existing <code>System</code> object with optimization capabilities.  This constructor uses a dictionary of input parameters to configure the optimization process.</p><p><strong>Arguments</strong></p><ul><li><code>system::System</code>: An existing <code>System</code> instance containing structure, symmetry, cluster, and basis set information.</li><li><code>input_dict::Dict{&lt;:AbstractString, &lt;:Any}</code>: A dictionary containing input parameters for optimization.</li><li><code>verbosity::Bool=true</code>: Whether to print detailed information during initialization.</li></ul><p><strong>Returns</strong></p><ul><li><code>SpinCluster</code>: A new <code>SpinCluster</code> instance containing structure, symmetry, cluster, basis set, and optimizer.</li></ul><p><strong>Throws</strong></p><ul><li><code>ErrorException</code>: If required parameters are missing or invalid.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">input_dict = Dict(&quot;key&quot; =&gt; &quot;value&quot;)
system = System(input_dict)
spin_cluster = SpinCluster(system, input_dict)</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SpinCluster-Tuple{System, AbstractDict{&lt;:AbstractString}, AbstractVector{Magesty.SpinConfigs.SpinConfig}}" href="#Magesty.SpinCluster-Tuple{System, AbstractDict{&lt;:AbstractString}, AbstractVector{Magesty.SpinConfigs.SpinConfig}}"><code>Magesty.SpinCluster</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SpinCluster</code></pre><p>Create a <code>SpinCluster</code> instance from a <code>System</code> and a list of <code>SpinConfig</code> objects. This constructor is used when the optimization process is based on predefined spin configurations.</p></div></section></article><h3 id="Energy-and-Torque-Calculations"><a class="docs-heading-anchor" href="#Energy-and-Torque-Calculations">Energy and Torque Calculations</a><a id="Energy-and-Torque-Calculations-1"></a><a class="docs-heading-anchor-permalink" href="#Energy-and-Torque-Calculations" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.calc_energy" href="#Magesty.calc_energy"><code>Magesty.calc_energy</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_energy(sc::SpinCluster, spin_config::AbstractMatrix{&lt;:Real})</code></pre><p>Calculate the energy of a spin configuration using the spin cluster expansion.</p><p><strong>Arguments</strong></p><ul><li><code>sc::SpinCluster</code>: A <code>SpinCluster</code> instance containing structure, symmetry, basis set, and optimization information.</li><li><code>spin_config::AbstractMatrix{&lt;:Real}</code>: A 3xN matrix representing the spin configuration, where N is the number of atoms in the supercell.</li></ul><p><strong>Returns</strong></p><ul><li><code>Float64</code>: The calculated energy of the given spin configuration.</li></ul><p><strong>Throws</strong></p><ul><li><code>ArgumentError</code>: If the number of columns in <code>spin_config</code> does not match the number of atoms in the supercell.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">spin_config = rand(3, sc.structure.supercell.num_atoms) # Random spin configuration
energy = calc_energy(sc, spin_config)</code></pre></div></section></article><div class="admonition is-warning" id="Missing-docstring.-2ef4313b3fb722da"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-2ef4313b3fb722da" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>calc_torque</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Results-Access"><a class="docs-heading-anchor" href="#Results-Access">Results Access</a><a id="Results-Access-1"></a><a class="docs-heading-anchor-permalink" href="#Results-Access" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.get_j0" href="#Magesty.get_j0"><code>Magesty.get_j0</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get the reference energy</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.get_jphi" href="#Magesty.get_jphi"><code>Magesty.get_jphi</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get the spin-cluster coefficients</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.get_j0_jphi" href="#Magesty.get_j0_jphi"><code>Magesty.get_j0_jphi</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get the reference energy and spin-cluster coefficients</code></pre></div></section></article><h3 id="Output-Functions"><a class="docs-heading-anchor" href="#Output-Functions">Output Functions</a><a id="Output-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Output-Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.write_xml" href="#Magesty.write_xml"><code>Magesty.write_xml</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_xml(structure::Structure, basis_set::BasisSet, optimize::Optimizer, filename::AbstractString=&quot;jphi.xml&quot;; write_jphi::Bool=true)
write_xml(sc::SpinCluster, filename::AbstractString=&quot;jphi.xml&quot;; write_jphi::Bool=true)</code></pre><p>Write the structure, basis set, and optimization results to an XML file in SCE format.</p><p><strong>Arguments</strong></p><ul><li><code>structure::Structure</code>: Crystal structure information</li><li><code>basis_set::BasisSet</code>: Basis set information</li><li><code>optimize::Optimizer</code>: Optimization results</li><li><code>sc::SpinCluster</code>: Spin cluster object containing structure, basis set, and optimization results</li><li><code>filename::AbstractString=&quot;jphi.xml&quot;</code>: Output XML file name</li><li><code>write_jphi::Bool=true</code>: Whether to write the J_ij parameters</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Using individual components
write_xml(structure, basis_set, optimizer)
write_xml(structure, basis_set, optimizer, &quot;output.xml&quot;, write_jphi=false)

# Using SpinCluster object
write_xml(spin_cluster)
write_xml(spin_cluster, &quot;output.xml&quot;, write_jphi=false)</code></pre></div></section></article><h2 id="Submodules"><a class="docs-heading-anchor" href="#Submodules">Submodules</a><a id="Submodules-1"></a><a class="docs-heading-anchor-permalink" href="#Submodules" title="Permalink"></a></h2><h3 id="Structures"><a class="docs-heading-anchor" href="#Structures">Structures</a><a id="Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Structures" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.Structures.Structure" href="#Magesty.Structures.Structure"><code>Magesty.Structures.Structure</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Structure</code></pre><p>Represents a periodic structure built from a Cell, with information about periodicity, atom types, and neighboring images.</p><p><strong>Fields</strong></p><ul><li><p><code>supercell::Cell</code>   The unit cell of the structure, containing lattice vectors, reciprocal vectors, atomic positions, and magnetic moments.</p></li><li><p><code>is_periodic::Vector{Bool}</code>   A vector indicating periodicity along each of the three principal axes. Each element corresponds to whether the structure is periodic (<code>true</code>) or non-periodic (<code>false</code>) along that axis.</p></li><li><p><code>kd_name::Vector{String}</code>   A list of element names present in the structure without deplication (e.g., <code>[&quot;Fe&quot;, &quot;Co&quot;, &quot;Ni&quot;]</code>).</p></li><li><p><code>x_image_frac::Array{Float64, 3}</code>   Fractional coordinates of atoms in neighboring (imaginary) cells. The dimensions typically represent the number of images, number of atoms, and the three fractional coordinates.</p></li><li><p><code>x_image_cart::Array{Float64, 3}</code>   Cartesian coordinates of atoms in neighboring (imaginary) cells. Similar to <code>x_image_frac</code>, the dimensions represent the number of images, number of atoms, and the three Cartesian coordinates.</p></li><li><p><code>exist_image::Vector{Bool}</code>   Indicates the existence of neighboring cells based on the structure&#39;s periodicity. Each element corresponds to whether a particular neighboring cell exists (<code>true</code>) or not (<code>false</code>).</p></li><li><p><code>atomtype_group::Vector{Vector{Int}}</code>   Groups of atom indices categorized by their types. Each sub-vector contains the indices of atoms belonging to a specific element type.</p></li></ul></div></section></article><h3 id="Symmetries"><a class="docs-heading-anchor" href="#Symmetries">Symmetries</a><a id="Symmetries-1"></a><a class="docs-heading-anchor-permalink" href="#Symmetries" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.Symmetries.Symmetry" href="#Magesty.Symmetries.Symmetry"><code>Magesty.Symmetries.Symmetry</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Symmetry</code></pre><p>Contains the symmetry information of a structure.</p><p><strong>Fields</strong></p><ul><li><code>international_symbol::String</code>: International symbol of the space group.</li><li><code>spacegroup_number::Int</code>: Space group number.</li><li><code>nsym::Int</code>: Number of symmetry operations.</li><li><code>ntran::Int</code>: Number of pure translation operations.</li><li><code>nat_prim::Int</code>: Number of atoms in the primitive cell.</li><li><code>tol::Float64</code>: Tolerance for symmetry detection.</li><li><code>atoms_in_prim::Vector{Int}</code>: Indices of atoms in the primitive cell.</li><li><code>symdata::Vector{SymmetryOperation}</code>: List of symmetry operations.</li><li><code>map_sym::Matrix{Int}</code>: Maps atoms in the supercell to corresponding atoms under symmetry operations.</li><li><code>map_p2s::Matrix{Int}</code>: Maps atoms in the primitive cell to the supercell.</li><li><code>map_s2p::Vector{Maps}</code>: Maps atoms in the supercell to the primitive cell.</li><li><code>symnum_translation::Vector{Int}</code>: Indices of pure translation operations.</li></ul><p><strong>Constructor</strong></p><pre><code class="nohighlight hljs">Symmetry(structure, tol::Float64)</code></pre><p>Generate symmetry information for the given structure using the specified tolerance.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.Symmetries.SymmetryOperation" href="#Magesty.Symmetries.SymmetryOperation"><code>Magesty.Symmetries.SymmetryOperation</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct SymmetryOperation</code></pre><p>Represents a symmetry operation, including rotation and translation components.</p><p><strong>Fields</strong></p><ul><li><code>rotation_frac::SMatrix{3, 3, Float64, 9}</code>: The 3x3 rotation matrix in fractional coordinates.</li><li><code>rotation_cart::SMatrix{3, 3, Float64, 9}</code>: The 3x3 rotation matrix in Cartesian coordinates.</li><li><code>translation_frac::SVector{3, Float64}</code>: The 3x1 translation vector in fractional coordinates.</li><li><code>is_translation::Bool</code>: True if the operation is a pure translation.</li><li><code>is_translation_included::Bool</code>: True if the operation includes a translation.</li><li><code>is_proper::Bool</code>: True if the rotation is proper (determinant &gt; 0).</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Create a symmetry operation
symop = SymmetryOperation(
	rotation_frac = [1 0 0; 0 1 0; 0 0 1],
	rotation_cart = [1 0 0; 0 1 0; 0 0 1],
	translation_frac = [0.0, 0.0, 0.0],
	is_translation = true,
	is_translation_included = false,
	is_proper = true
)</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.Symmetries.Maps" href="#Magesty.Symmetries.Maps"><code>Magesty.Symmetries.Maps</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Maps Maps structure is used in Symmetry structure to map supercell atom to primitive index.</p></div></section></article><h3 id="Clusters"><a class="docs-heading-anchor" href="#Clusters">Clusters</a><a id="Clusters-1"></a><a class="docs-heading-anchor-permalink" href="#Clusters" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.Clusters.Cluster" href="#Magesty.Clusters.Cluster"><code>Magesty.Clusters.Cluster</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Cluster</code></pre><p>Represents a collection of interaction clusters based on the specified number of bodies and cutoff radii.</p><p><strong>Fields</strong></p><ul><li><code>num_bodies::Int</code>: Number of interacting bodies</li><li><code>cutoff_radii::Array{Float64, 3}</code>: Cutoff radii for each atomic element pair and interaction body</li><li><code>min_distance_pairs::Matrix{Vector{DistInfo}}</code>: Matrix of minimum distance pairs between atoms</li><li><code>interaction_clusters::Matrix{OrderedSet{InteractionCluster}}</code>: Matrix of interaction clusters</li><li><code>cluster_list::Vector{SortedVector{Vector{AtomCell}}}</code>: List of interacting atom clusters</li><li><code>equivalent_atom_list::Vector{Vector{Int}}</code>: List of equivalent atom groups</li></ul><p><strong>Constructor</strong></p><pre><code class="nohighlight hljs">Cluster(structure, symmetry, nbody, cutoff_radii)</code></pre><p>Creates a new <code>Cluster</code> instance based on the provided structure, symmetry information, number of bodies, and cutoff radii.</p><p><strong>Example</strong></p><p>```julia cluster = Cluster(structure, symmetry, 3, cutoff_radii)</p></div></section></article><h3 id="BasisSets"><a class="docs-heading-anchor" href="#BasisSets">BasisSets</a><a id="BasisSets-1"></a><a class="docs-heading-anchor-permalink" href="#BasisSets" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.BasisSets.BasisSet" href="#Magesty.BasisSets.BasisSet"><code>Magesty.BasisSets.BasisSet</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BasisSet</code></pre><p>Represents a set of basis functions for atomic interactions in a crystal structure. This structure is used to store and manage basis functions that are adapted to the symmetry of the crystal.</p><p><strong>Fields</strong></p><ul><li><code>basislist::SortedCountingUniqueVector{IndicesUniqueList}</code>: List of unique basis indices with their counts</li><li><code>classified_basisdict::Dict{Int, SortedCountingUniqueVector}</code>: Dictionary mapping symmetry labels to basis sets</li><li><code>projection_dict::Dict{Int, Matrix{Float64}}</code>: Dictionary of projection matrices for each symmetry label</li><li><code>each_projection_dict::Any</code>: Dictionary containing individual projection information</li><li><code>salc_list::Vector{SALC}</code>: List of symmetry-adapted linear combinations</li></ul><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">BasisSet(structure::Structure, symmetry::Symmetry, cluster::Cluster, lmax::AbstractMatrix{&lt;:Integer}, bodymax::Integer)</code></pre><p>Constructs a new <code>BasisSet</code> instance for atomic interactions in a crystal structure.</p><p><strong>Arguments</strong></p><ul><li><code>structure::Structure</code>: Structure information containing atomic positions and species</li><li><code>symmetry::Symmetry</code>: Symmetry information for the crystal structure</li><li><code>cluster::Cluster</code>: Cluster information for atomic interactions</li><li><code>lmax::AbstractMatrix{&lt;:Integer}</code>: Matrix of maximum angular momentum values for each atomic species and body [nkd × nbody]</li><li><code>bodymax::Integer</code>: Maximum number of bodies in interactions</li></ul><p><strong>Returns</strong></p><ul><li><code>BasisSet</code>: A new basis set instance containing:<ul><li>List of unique basis functions</li><li>Symmetry-classified basis dictionary</li><li>Projection matrices</li><li>Symmetry-adapted linear combinations</li></ul></li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Create a basis set for a structure with 2 atomic species and 3-body interactions
lmax_matrix = [2 3; 3 2]  # lmax for each species and body
basis = BasisSet(structure, symmetry, cluster, lmax_matrix, 3)</code></pre><p><strong>Note</strong></p><p>The constructor performs the following steps:</p><ol><li>Constructs the basis list by considering all possible combinations of atoms and angular momenta</li><li>Classifies basis functions by symmetry operations</li><li>Constructs projection matrices for each symmetry label</li><li>Generates symmetry-adapted linear combinations (SALCs)</li></ol></div></section></article><h3 id="Optimization"><a class="docs-heading-anchor" href="#Optimization">Optimization</a><a id="Optimization-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization" title="Permalink"></a></h3><div class="admonition is-warning" id="Missing-docstring.-ff174b9b79aab1ba"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-ff174b9b79aab1ba" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>Optimize.Optimizer</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Spin-Configurations"><a class="docs-heading-anchor" href="#Spin-Configurations">Spin Configurations</a><a id="Spin-Configurations-1"></a><a class="docs-heading-anchor-permalink" href="#Spin-Configurations" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SpinConfigs.SpinConfig" href="#Magesty.SpinConfigs.SpinConfig"><code>Magesty.SpinConfigs.SpinConfig</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SpinConfig</code></pre><p>A configuration of spins in a magnetic structure.</p><p><strong>Fields</strong></p><ul><li><code>energy::Float64</code>: The energy of the spin configuration [eV]</li><li><code>magmom_size::Vector{Float64}</code>: The magnitude of magnetic moments for each atom [μ_B]</li><li><code>spin_directions::Matrix{Float64}</code>: The direction cosines (unit vectors) of the spins [3 × num_atoms]</li><li><code>local_magfield::Matrix{Float64}</code>: The local magnetic field at each atom [T]</li><li><code>local_magfield_vertical::Matrix{Float64}</code>: The component of the local magnetic field perpendicular to the magnetic moments [T]</li></ul><p><strong>Constructors</strong></p><ul><li><code>SpinConfig(energy, magmom_size, spin_directions, local_magfield)</code>: Create a spin configuration</li></ul><p><strong>Throws</strong></p><ul><li><code>ArgumentError</code> if dimensions of input arrays do not match</li><li><code>ArgumentError</code> if any magnetic moment size is negative</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SpinConfigs.read_embset" href="#Magesty.SpinConfigs.read_embset"><code>Magesty.SpinConfigs.read_embset</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_embset(filepath::AbstractString, num_atoms::Integer) -&gt; Vector{SpinConfig}</code></pre><p>Read spin configurations from an EMBSET file.</p><p><strong>Arguments</strong></p><ul><li><code>filepath::AbstractString</code>: Path to the EMBSET file</li><li><code>num_atoms::Integer</code>: Number of atoms in the structure</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{SpinConfig}</code>: Array of spin configurations</li></ul><p><strong>Throws</strong></p><ul><li><code>ErrorException</code> if the file format is invalid</li><li><code>ArgumentError</code> if the file does not exist</li></ul></div></section></article><h2 id="Utility-Types"><a class="docs-heading-anchor" href="#Utility-Types">Utility Types</a><a id="Utility-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-Types" title="Permalink"></a></h2><h3 id="Atomic-Indices"><a class="docs-heading-anchor" href="#Atomic-Indices">Atomic Indices</a><a id="Atomic-Indices-1"></a><a class="docs-heading-anchor-permalink" href="#Atomic-Indices" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.AtomicIndices.Indices" href="#Magesty.AtomicIndices.Indices"><code>Magesty.AtomicIndices.Indices</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Indices(atom::Int, l::Int, m::Int, cell::Int)</code></pre><p>Represents the indices of an atom along with its associated quantum numbers (l and m) and cell index in a real spherical harmonics basis.</p><p><strong>Fields</strong></p><ul><li><code>atom::Int</code>: The index of the atom.</li><li><code>l::Int</code>: The quantum number (l).</li><li><code>m::Int</code>: The quantum number (m).</li><li><code>cell::Int</code>: The cell index (1 ≤ cell ≤ 27).</li></ul><p><strong>Constructor</strong></p><ul><li><code>Indices(atom::Int, l::Int, m::Int, cell::Int)</code>: Creates a new <code>Indices</code> instance after validating:<ul><li>l must be positive</li><li>|m| must not exceed l</li><li>cell must be between 1 and 27 (inclusive)</li></ul></li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.AtomicIndices.IndicesUniqueList" href="#Magesty.AtomicIndices.IndicesUniqueList"><code>Magesty.AtomicIndices.IndicesUniqueList</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IndicesUniqueList</code></pre><p>A mutable collection of unique <code>Indices</code> objects that implements the <code>AbstractVector</code> interface. Maintains uniqueness of elements and provides specialized operations for handling atomic indices.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.AtomicIndices.get_total_L" href="#Magesty.AtomicIndices.get_total_L"><code>Magesty.AtomicIndices.get_total_L</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_total_L(iul::IndicesUniqueList) -&gt; Int</code></pre><p>Return the sum of all l values in <code>IndicesUniqueList</code>.</p></div></section></article><div class="admonition is-warning" id="Missing-docstring.-b0057400d694d7b2"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-b0057400d694d7b2" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>AtomicIndices.get_atom_l_list</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="SALCs-(Symmetry-Adapted-Linear-Combinations)"><a class="docs-heading-anchor" href="#SALCs-(Symmetry-Adapted-Linear-Combinations)">SALCs (Symmetry-Adapted Linear Combinations)</a><a id="SALCs-(Symmetry-Adapted-Linear-Combinations)-1"></a><a class="docs-heading-anchor-permalink" href="#SALCs-(Symmetry-Adapted-Linear-Combinations)" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SALCs.SALC" href="#Magesty.SALCs.SALC"><code>Magesty.SALCs.SALC</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SALC</code></pre><p>A structure representing a symmetry-adapted linear combination.</p><p><strong>Fields</strong></p><ul><li><code>basisset::Vector{IndicesUniqueList}</code>: The basis set of atomic indices</li><li><code>coeffs::Vector{Float64}</code>: The coefficients of the linear combination</li><li><code>multiplicity::Vector{Int}</code>: The multiplicity of each basis element</li></ul><p><strong>Constructors</strong></p><ul><li><code>SALC(basisset::Vector{IndicesUniqueList}, coeffs::Vector{Float64}, multiplicity::Vector{Int})</code>: Create a SALC from a basis set, coefficients, and multiplicity</li></ul></div></section></article><h3 id="Unitary-Matrix"><a class="docs-heading-anchor" href="#Unitary-Matrix">Unitary Matrix</a><a id="Unitary-Matrix-1"></a><a class="docs-heading-anchor-permalink" href="#Unitary-Matrix" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.UnitaryMatrixCl.UniMatCl" href="#Magesty.UnitaryMatrixCl.UniMatCl"><code>Magesty.UnitaryMatrixCl.UniMatCl</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UniMatCl{T &lt;: Complex} &lt;: AbstractMatrix{T}</code></pre><p>A structure storing unitary matrix Cˡ, where Cˡ is defined as 	Sₗ = CˡYₗ where Sₗ and Yₗ are vectors consisting of real and complex spherical harmonics, respectively. The dimension of Cˡ is (2l+1) × (2l+1).</p><p><strong>Fields</strong></p><ul><li><code>umat_cl::Matrix{T}</code>: The unitary matrix Cˡ</li><li><code>l::Int</code>: The angular momentum quantum number</li></ul><p><strong>Constructors</strong></p><ul><li><code>UniMatCl(l::Integer)</code>: Create a unitary matrix Cˡ for a given l</li><li><code>UniMatCl(mat::AbstractMatrix{&lt;:Complex})</code>: Create a unitary matrix Cˡ from an existing matrix</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.UnitaryMatrixCl.getindex_m" href="#Magesty.UnitaryMatrixCl.getindex_m"><code>Magesty.UnitaryMatrixCl.getindex_m</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getindex_m(cl::UniMatCl, m1::Integer, m2::Integer) -&gt; Complex</code></pre><p>Get the matrix element Cˡ(m1, m2) using quantum numbers m1 and m2.</p><p><strong>Arguments</strong></p><ul><li><code>cl::UniMatCl</code>: The unitary matrix</li><li><code>m1::Integer</code>: The first quantum number</li><li><code>m2::Integer</code>: The second quantum number</li></ul><p><strong>Returns</strong></p><ul><li><code>Complex</code>: The matrix element Cˡ(m1, m2)</li></ul><p><strong>Throws</strong></p><ul><li><code>BoundsError</code> if m1 or m2 is outside the valid range [-l, l]</li></ul></div></section></article><h3 id="Atom-Cells"><a class="docs-heading-anchor" href="#Atom-Cells">Atom Cells</a><a id="Atom-Cells-1"></a><a class="docs-heading-anchor-permalink" href="#Atom-Cells" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.AtomCells.AtomCell" href="#Magesty.AtomCells.AtomCell"><code>Magesty.AtomCells.AtomCell</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AtomCell(atom::Int, cell::Int)</code></pre><p>A structure that stores atom index and imaginary (virtual) cell index.</p><p><strong>Fields</strong></p><ul><li><code>atom::Int</code>: Index of the atom</li><li><code>cell::Int</code>: Index of the imaginary cell</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">julia&gt; ac = AtomCell(1, 2)
(atom: 1, cell: 2)</code></pre></div></section></article><h3 id="Configuration-Parsers"><a class="docs-heading-anchor" href="#Configuration-Parsers">Configuration Parsers</a><a id="Configuration-Parsers-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration-Parsers" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.ConfigParser.Config4System" href="#Magesty.ConfigParser.Config4System"><code>Magesty.ConfigParser.Config4System</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Config4System</code></pre><p>A structure that holds system configuration parameters for molecular dynamics simulations.</p><p><strong>Required Parameters</strong></p><ul><li><code>name::String</code>: Name of the system</li><li><code>num_atoms::Int</code>: Number of atoms in the system</li><li><code>kd_name::Vector{String}</code>: List of chemical species names</li><li><code>nbody::Int</code>: Maximum order of many-body interactions</li><li><code>lmax::Matrix{Int}</code>: Maximum angular momentum for each chemical species and interaction order</li><li><code>cutoff_radii::Array{Float64, 3}</code>: Cutoff radii for interactions between chemical species</li><li><code>lattice_vectors::Matrix{Float64}</code>: Lattice vectors of the system</li><li><code>kd_int_list::Vector{Int}</code>: List of chemical species indices for each atom</li><li><code>x_fractional::Matrix{Float64}</code>: Fractional coordinates of atoms</li></ul><p><strong>Optional Parameters</strong></p><ul><li><code>is_periodic::Vector{Bool}</code>: Periodicity flags for each direction [default: [true, true, true]]</li><li><code>tolerance_sym::Float64</code>: Tolerance for symmetry operations [default: 1e-3]</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.ConfigParser.Config4Optimize" href="#Magesty.ConfigParser.Config4Optimize"><code>Magesty.ConfigParser.Config4Optimize</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Config4Optimize</code></pre><p>A structure that holds optimization parameters.</p><p><strong>Required Parameters</strong></p><ul><li><code>datafile::String</code>: Path to the data file</li></ul><p><strong>Optional Parameters</strong></p><ul><li><code>ndata::Int</code>: Number of data points to use [default: -1]</li><li><code>weight::Float64</code>: Weight for optimization [default: 0.0]</li></ul></div></section></article><h2 id="Utility-Functions"><a class="docs-heading-anchor" href="#Utility-Functions">Utility Functions</a><a id="Utility-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-Functions" title="Permalink"></a></h2><h3 id="Spherical-Harmonics"><a class="docs-heading-anchor" href="#Spherical-Harmonics">Spherical Harmonics</a><a id="Spherical-Harmonics-1"></a><a class="docs-heading-anchor-permalink" href="#Spherical-Harmonics" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.MySphericalHarmonics.Sₗₘ" href="#Magesty.MySphericalHarmonics.Sₗₘ"><code>Magesty.MySphericalHarmonics.Sₗₘ</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Sₗₘ(l::Integer, m::Integer, uvec::AbstractVector{&lt;:Real}) -&gt; Float64</code></pre><p>Compute the real spherical harmonic Sₗₘ.</p><p><strong>Arguments</strong></p><ul><li><code>l</code>: Angular momentum quantum number (≥ 0)</li><li><code>m</code>: Magnetic quantum number (-l ≤ m ≤ l)</li><li><code>uvec</code>: Normalized 3D direction vector [r̂x, r̂y, r̂z]</li></ul><p><strong>Mathematical Details</strong></p><p>For m = 0:  Sₗₘ = P̄ₗₘ(r̂z) For m &gt; 0:  Sₗₘ = (-1)ᵐ√2 P̄ₗₘ(r̂z) ∑ₖ (-1)ᵏ (m,2k) r̂x^(m-2k) r̂y^(2k) For m &lt; 0:  Sₗₘ = (-1)ⁿ√2 P̄ₗₘ(r̂z) ∑ₖ (-1)ᵏ (n,2k+1) r̂x^(n-2k-1) r̂y^(2k+1)</p><p>where n = |m| and (n,k) denotes binomial coefficient.</p><p>Reference: Equation (***) in T. Tanaka and Y. Gohda, ***</p></div></section></article><div class="admonition is-warning" id="Missing-docstring.-792025dd6c082ec2"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-792025dd6c082ec2" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>MySphericalHarmonics.d_Slm</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning" id="Missing-docstring.-979cab29fa087ad8"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-979cab29fa087ad8" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>MySphericalHarmonics.∂ᵢSlm</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Rotation-Matrices"><a class="docs-heading-anchor" href="#Rotation-Matrices">Rotation Matrices</a><a id="Rotation-Matrices-1"></a><a class="docs-heading-anchor-permalink" href="#Rotation-Matrices" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.RotationMatrix.rotmat2euler" href="#Magesty.RotationMatrix.rotmat2euler"><code>Magesty.RotationMatrix.rotmat2euler</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rotmat2euler(m::AbstractMatrix{&lt;:Real}, mod_positive::Bool = true) -&gt; Tuple{Float64, Float64, Float64}</code></pre><p>Converts a 3x3 rotation matrix <code>m</code> to Euler angles <code>(α, β, γ)</code>.</p><p><strong>Arguments</strong></p><ul><li><code>m::AbstractMatrix{&lt;:Real}</code>: A 3x3 rotation matrix.</li><li><code>mod_positive::Bool</code>: If <code>true</code>, the angles are adjusted to be within <code>[0, 2π)</code> for <code>α</code> and <code>γ</code>. Defaults to <code>true</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>Tuple{Float64, Float64, Float64}</code>: The Euler angles <code>(α, β, γ)</code>.</li></ul><p><strong>Raises</strong></p><ul><li><code>ArgumentError</code>: If the input matrix <code>m</code> is not 3x3.</li></ul><p><strong>Examples</strong></p><p>```julia m = [1 0 0; 0 cos(pi/4) -sin(pi/4); 0 sin(pi/4) cos(pi/4)] angles = rotmat2euler(m) println(angles)  # (0.0, 0.7853981633974483, 0.0)</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.RotationMatrix.Δl" href="#Magesty.RotationMatrix.Δl"><code>Magesty.RotationMatrix.Δl</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Δl(l::Int, α::Float64, β::Float64, γ::Float64)::Matrix{Float64}</code></pre><p>Compute the Δ matrix for a given <code>l</code>, <code>α</code>, <code>β</code>, and <code>γ</code>.</p><p><strong>Arguments</strong></p><ul><li><code>l::Int</code>: Positive integer representing the angular momentum quantum number.</li><li><code>α::Float64</code>, <code>β::Float64</code>, <code>γ::Float64</code>: Euler angles in radians.</li></ul><p><strong>Returns</strong></p><ul><li>A real-valued matrix <code>Δ::Matrix{Float64}</code>.</li></ul><p><strong>Throws</strong></p><ul><li><code>ArgumentError</code> if <code>l</code> is not positive.</li><li><code>ArgumentError</code> if the resulting matrix contains imaginary parts exceeding the threshold <code>1e-12</code>.</li></ul><p><strong>Notes</strong></p><ul><li>The resulting matrix is converted to real if the imaginary parts are negligible.</li></ul><p><strong>References</strong></p><ul><li>M.A. Blanco et al., Journal of Molecular Structure (Theochem) 419 19-27 (1997).</li></ul></div></section></article><h3 id="Energy-Calculations"><a class="docs-heading-anchor" href="#Energy-Calculations">Energy Calculations</a><a id="Energy-Calculations-1"></a><a class="docs-heading-anchor-permalink" href="#Energy-Calculations" title="Permalink"></a></h3><div class="admonition is-warning" id="Missing-docstring.-c41742b01d8886b6"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-c41742b01d8886b6" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>CalcEnergy.calc_energy</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Version-Information"><a class="docs-heading-anchor" href="#Version-Information">Version Information</a><a id="Version-Information-1"></a><a class="docs-heading-anchor-permalink" href="#Version-Information" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.Version.version_string" href="#Magesty.Version.version_string"><code>Magesty.Version.version_string</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">version_string()</code></pre><p>Returns the version information as a string.</p></div></section></article><h2 id="Container-Types"><a class="docs-heading-anchor" href="#Container-Types">Container Types</a><a id="Container-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Container-Types" title="Permalink"></a></h2><h3 id="Sorted-Containers"><a class="docs-heading-anchor" href="#Sorted-Containers">Sorted Containers</a><a id="Sorted-Containers-1"></a><a class="docs-heading-anchor-permalink" href="#Sorted-Containers" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SortedContainer.SortedVector" href="#Magesty.SortedContainer.SortedVector"><code>Magesty.SortedContainer.SortedVector</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SortedVector{T} &lt;: AbstractSortedVector{T}</code></pre><p>A mutable sorted vector of elements of type <code>T</code>.   This structure maintains its internal <code>data::Vector{T}</code> in sorted order.</p><p><strong>Fields</strong></p><ul><li><code>data::Vector{T}</code>: The underlying sorted array storing all elements.</li></ul><p><strong>Constructors</strong></p><ul><li><code>SortedVector(data)</code>: Create a <code>SortedVector</code> by sorting and storing a copy of <code>data</code>.</li><li><code>SortedVector{T}()</code>: Create an empty <code>SortedVector{T}</code>.</li><li><code>SortedVector()</code>: Create an empty <code>SortedVector{Any}</code>.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SortedContainer.SortedUniqueVector" href="#Magesty.SortedContainer.SortedUniqueVector"><code>Magesty.SortedContainer.SortedUniqueVector</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SortedUniqueVector{T} &lt;: AbstractSortedVector{T}</code></pre><p>A mutable sorted vector that maintains unique elements of type <code>T</code>.</p><p><strong>Fields</strong></p><ul><li><code>data::Vector{T}</code>: The underlying array, always sorted and without duplicates.</li></ul><p><strong>Constructors</strong></p><ul><li><code>SortedUniqueVector(data)</code>: Create a <code>SortedUniqueVector</code> by sorting, removing duplicates, and storing a copy of <code>data</code>.</li><li><code>SortedUniqueVector{T}()</code>: Create an empty <code>SortedUniqueVector{T}</code>.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Magesty.SortedContainer.SortedCountingUniqueVector" href="#Magesty.SortedContainer.SortedCountingUniqueVector"><code>Magesty.SortedContainer.SortedCountingUniqueVector</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SortedCountingUniqueVector{T} &lt;: AbstractSortedVector{T}</code></pre><p>A mutable sorted vector of unique elements (like <code>SortedUniqueVector</code>) that also tracks how many times each element was inserted.</p><p><strong>Fields</strong></p><ul><li><code>data::SortedUniqueVector{T}</code>: The underlying sorted collection of unique elements.</li><li><code>counts::Dict{T,Int}</code>: A dictionary mapping each element to its insertion count.</li></ul><p><strong>Constructors</strong></p><ul><li><code>SortedCountingUniqueVector{T}()</code>: Create an empty counting vector.</li><li><code>SortedCountingUniqueVector(data::AbstractVector{T})</code>: Create a counting vector from <code>data</code>, counting each element&#39;s occurrences.</li></ul></div></section></article><div class="admonition is-warning" id="Missing-docstring.-fea9e15ad7bd3ec7"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-fea9e15ad7bd3ec7" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>SortedContainer.getcount</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning" id="Missing-docstring.-d983e1236790419b"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-d983e1236790419b" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>SortedContainer.addcount!</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Counting-Containers"><a class="docs-heading-anchor" href="#Counting-Containers">Counting Containers</a><a id="Counting-Containers-1"></a><a class="docs-heading-anchor-permalink" href="#Counting-Containers" title="Permalink"></a></h3><div class="admonition is-warning" id="Missing-docstring.-5d8b3611acbdeed8"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-5d8b3611acbdeed8" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>CountingContainer.CountingUniqueVector</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning" id="Missing-docstring.-62c85d9990408ece"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-62c85d9990408ece" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>CountingContainer.getcounts</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h2><div class="admonition is-warning" id="Missing-docstring.-7c7a2f61d13c1762"><header class="admonition-header">Missing docstring.<a class="admonition-anchor" href="#Missing-docstring.-7c7a2f61d13c1762" title="Permalink"></a></header><div class="admonition-body"><p>Missing docstring for <code>VERSION</code>. Check Documenter&#39;s build log for details.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« Home</a><a class="docs-footer-nextpage" href="tutorial.html">Tutorial »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 7 October 2025 15:15">Tuesday 7 October 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
